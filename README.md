# transaction_analysis
приложение для анализа транзакций, которые находятся в Excel-файле. 
Приложение будет генерировать JSON-данные для веб-страниц, формировать Excel-отчеты


## utils Основные функции
### Функция financial_period
функция вывода  диапазона дат в формате 31.12.2021

Параметры:

#### data_end: 
конец диапазона (31.12.2021),   по умолчанию текущая дата
#### period: 
размер  диапазона  (по умолчанию M), где:

- W — неделя, на которую приходится дата;
- M — месяц, на который приходится дата;
- 3M - три месяца от переданной даты:
- Y — год, на который приходится дата;
- ALL — все данные

:return:

- data_start начало периода в формате 31.12.2021
- data_end конец периода в формате 31.12.2021



### Функция read_xls
Читает файл xlsx c транзакциями и возвращает DataFrame

- Замена NAN на пробелы
- Переименовывает столбцы на английский
- Проверяет наличие нужных колонок


Пример:     status,x = read_xls('operations.xlsx')

#### Параметры:

- file_name: Имя файла XLSX в каталоге data

:return: 

- status: Ok при успехе или описание ошибки
- DataFrame: с данными или None



### Функция filter_transaction

Возращает новый список словарей транзакций отфильтрованных по датам
- Отдает транзакции только со статусом == 'OK'
- Замена NAN на пробелы
- Переименовывает столбцы на английский
- Проверяет наличие обязательных колонок

#### Параметры:
- transactions:  список со словарями транзакций
- data_start:   дата начала выборки 01.01.2022
- data_end:    дата конца выборки  31.12.2022


:return: 
- статус 'OK' или ошибку
- список со словарями транзакций указанного периода, при ошибке пустой список



## Views Страница события

## events
### transactions_by_category
 Раздел «Основные», в котором траты(поступления) по категориям отсортированы по убыванию.
    Данные предоставляются по 7 категориям с наибольшими тратами
    (поступления  не ограниченно количеством категорий),
    траты по остальным категориям суммируются и попадают в категорию «Остальное».
### transactions_to_cash
Общая сумма трат в  разделе  наличные и переводы.
### total_expenses
Общая сумма расходов.
### total_receipt
Общая сумма поступлений.